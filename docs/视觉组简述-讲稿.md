# 视觉组讲稿

我们的视觉算法主要实现了**装甲识别**、**能量机关识别**、**数字识别**和**目标跟踪**等功能。实际效果，分辨率1280\*720像素的图像，**灯条检测与匹配**阶段能稳定在12ms/帧的速度（分辨率640\*480像素的图像，所需时间差别不大）；**能量机关**速度也在12ms/帧左右；**数字识别**功能能够达到几乎99%的准确率，会受环境光照影响而波动；**追踪模块**调用的外部算法，目前需要0.5s左右的初始化时间，更新时的帧率能稳定在40~60fps，不适用于快速变化的场景，计划运用在较稳定的跟踪场合。


目前的**装甲检测**算法采用灯条识别和灯条配对的方式识别出装甲板，具体通过二值化、开闭运算等流程提取高亮部分，结合灯条颜色辉光区分出灯条，再经过灯条配对识别出装甲板。得益于数字识别、装甲优选打分流程以及多次实验得出的判断经验，几乎能保证识别并框选出的装甲板为最优的选择。算法仍有**缺憾**，对光照和参数设定依赖很大，一些帧会出现识别不到的情况，目标追跟踪可以一定程度上解决该问题，但由于跟踪算法并不稳定，所以不能完全依赖，故我们将追踪设定成可随时开启或关闭的一个功能，并且加入一些判断和限制，避免跟踪到错误的目标。

**数字识别**模块应用在装甲识别部分，可以减少灯条错误匹配的情况，显著提升识别效果；同时，数字识别可以帮助程序选择优先攻击的兵种。~~目前数字识别准确率可以达到99%，具体情况受环境光影响而波动。（前文已经提到过，故此处删去）~~

**能量机关**在对图像进行二值化、开闭运算、漫水填充等预处理后，遍历能量机关的轮廓，利用面积筛选出目标扇叶并绘制出其最小外接矩形，并通过最小二乘法对矩形中心点进行圆拟合，最终确定了能量机关的位置。算法速度可以达到12ms/帧，效果如视频中展示。

**追踪模块**目前调用外部算法，为一公开的ECO算法的C++实现；该算法较之前的相关滤波算法提高了时间效率和空间效率，拥有较不错的效果。但工程仍计划探索设计其他备用跟踪方案，如位置预测算法，或者其他预测型目标跟踪算法。

2020年7月 夏 